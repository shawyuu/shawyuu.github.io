"use strict";(self["webpackChunkshawyoo"]=self["webpackChunkshawyoo"]||[]).push([[234],{234:function(r,t,e){e.r(t),e.d(t,{default:function(){return R}});var o=function(){var r=this,t=r._self._c;return t("div",{staticClass:"s-tool-wrapper"},[t("input",{attrs:{type:"file"},on:{change:r.bindChangeValue}}),t("TButton",[r._v("确定")])],1)},n=[],a=(e(7731),e(1834),e(1294),e(9921),e(5542),e(2760),e(1081),e(9979)),s=e(6478),c={components:{YPage:a.A,TButton:s.$},data(){return{}},mounted(){},methods:{compressImg(r){parseFloat(parseInt(r["size"])/1024/1024).toFixed(2);var t=new FileReader;t.readAsDataURL(r);var e=this;return new Promise((function(o,n){t.onload=function(t){var n=new Image;n.src=t.target.result,console.log(t.target.result),n.onload=function(){var t,n=this.width,a=this.height,s=document.createElement("canvas"),c=s.getContext("2d");s.setAttribute("width",n),s.setAttribute("height",a),c.drawImage(this,0,0,n,a),t=s.toDataURL(r["type"],.9);var i=e.dataURLtoBlob(t),E=r.name,l=e.blobToFile(i,E);o(l)}}}))},dataURLtoBlob(r){var t=r.split(","),e=t[0].match(/:(.*?);/)[1],o=atob(t[1]),n=o.length,a=new Uint8Array(n);while(n--)a[n]=o.charCodeAt(n);return new Blob([a],{type:e})},blobToFile(r,t){return r.lastModifiedDate=new Date,r.name=t,new File([r],t,{type:r.type,lastModified:Date.now()})},base64ToFile(r,t){let e=r.split(","),o=e[0].match(/:(.*?);/)[1],n=atob(e[1]),a=n.length,s=new Uint8Array(a);while(a--)s[a]=n.charCodeAt(a);return new File([s],`${this.imgData.bucketName}.png`,{type:o})},imageToBase64(r){var t=new FileReader;t.readAsDataURL(r),t.onload=()=>{console.log("file 转 base64结果："+t.result),this.iconBase64=t.result},t.onerror=function(r){console.log("Error: ",r)}},convertImageToBase64(r){const t=new Image;return t.crossOrigin="anonymous",console.log(222),new Promise(((e,o)=>{console.log(333),t.src=r,t.onload=()=>{console.log(444);const r=document.createElement("canvas"),o=r.getContext("2d");r.height=t.naturalHeight,r.width=t.naturalWidth,o.drawImage(t,0,0);const n=r.toDataURL("image/png",.8);console.log(n),e(n)},t.onerror=r=>(console.log(r),o(r))}))},async bindChangeValue(r){this.imageToBase64(r.target.files[0])}}},i=c,E=e(4034),l=(0,E.A)(i,o,n,!1,null,"1f20902a",null),R=l.exports},4981:function(r,t,e){var o=e(8559),n=TypeError;r.exports=function(r,t){if(o(t,r))return r;throw new n("Incorrect invocation")}},4708:function(r){r.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},3519:function(r,t,e){var o=e(2538),n=Error,a=o("".replace),s=function(r){return String(new n(r).stack)}("zxcasd"),c=/\n\s*at [^:]*:[^\n]*/,i=c.test(s);r.exports=function(r,t){if(i&&"string"==typeof r&&!n.prepareStackTrace)while(t--)r=a(r,c,"");return r}},8285:function(r,t,e){var o=e(1435),n=e(3400),a=e(3425);r.exports=function(r,t,e){var s,c;return a&&o(s=t.constructor)&&s!==e&&n(c=s.prototype)&&c!==e.prototype&&a(r,c),r}},9499:function(r,t,e){var o=e(2277);r.exports=function(r,t){return void 0===r?arguments.length<2?"":t:o(r)}},1081:function(r,t,e){var o=e(3076),n=e(9317),a=e(5793),s=e(5658),c=e(2587).f,i=e(379),E=e(4981),l=e(8285),R=e(9499),u=e(4708),m=e(3519),d=e(1870),p=e(4709),_="DOMException",h=a("Error"),g=a(_),I=function(){E(this,A);var r=arguments.length,t=R(r<1?void 0:arguments[0]),e=R(r<2?void 0:arguments[1],"Error"),o=new g(t,e),n=new h(t);return n.name=_,c(o,"stack",s(1,m(n.stack,1))),l(o,this,I),o},A=I.prototype=g.prototype,T="stack"in new h(_),f="stack"in new g(1,2),w=g&&d&&Object.getOwnPropertyDescriptor(n,_),D=!!w&&!(w.writable&&w.configurable),v=T&&!D&&!f;o({global:!0,constructor:!0,forced:p||v},{DOMException:v?I:g});var N=a(_),O=N.prototype;if(O.constructor!==N)for(var y in p||c(O,"constructor",s(1,N)),u)if(i(u,y)){var C=u[y],b=C.s;i(N,b)||c(N,b,s(6,C.c))}}}]);
//# sourceMappingURL=234.647101cf.js.map